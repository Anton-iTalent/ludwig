CCS = xlC_r
CCP = mpCC_r

INCS = -q64 -O3 -qipa -qhot -qarch=pwr5 -qtune=pwr5

# BE:     "undef" is Doi-Olmsted, "def" is Beris-Edwards
# CHOL:   "undef" is nematic uniaxial, "def" is cholesteric
# EON:    "undef" electric field off, "def" electric field on
# BC:     boundary conditions on/off
# FIXEDQ: fixed or free boundary conditions for Q
 
DEFS    =	 -DBE -DEON -DCHOL\
	         -DMPICH_IGNORE_CXX_SEEK -D_COMM_3D_\
		 -D_BINARY_IO_

#LIBS	=        -lstdc++ -libmc++ -lsupc++

LIBPATH =

NAME	= HLBLC09

all: $(NAME)P


String.o: String.cc
	$(CCS) -c String.cc $(INCS) $(DEFS)

LCParallel.o: LCParallel.cc
	$(CCP) -c LCParallel.cc -DPARALLEL $(INCS) $(DEFS) 

$(NAME)S: LCMain_hybrid.cc String.o Initialization.cc Output.cc
	$(CCS) LCMain_hybrid.cc String.o Initialization.cc Output.cc -o $(NAME)S \
	$(INCS) $(DEFS) $(LIBPATH) $(LIBS)

$(NAME)P: LCMain_hybrid.cc String.o LCParallel.o Initialization.cc Output.cc
	$(CCP) LCMain_hybrid.cc String.o LCParallel.o  -o $(NAME)P $(INCS) \
	$(DEFS) -DPARALLEL $(LIBPATH) $(LIBS)

clean:
	rm -f *.o $(NAME)S $(NAME)P

out-clean:
	rm -f *.dat *.log *.err *.out

depend:
	makedepend $(INCS) $(DEFS) $(NAME).cc String.cc LCParallel.cc LCMain_h.cc

