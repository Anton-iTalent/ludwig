\documentclass[sunil1,ChapterTOCs]{sunil}
\usepackage[utf8]{inputenc}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{subfigure}
%\usepackage{epsfig}
\usepackage{makeidx}
\usepackage{listings}
\usepackage{caption}
\usepackage{courier}
\usepackage{color}
\usepackage[sectionbib]{bibunits}
\usepackage{multicol}
\usepackage{alltt}


\frenchspacing
\tolerance=5000

\include{Chapters/chapter1/preamble}

\makeatletter


\makeatother

\newtheorem{proposition}{Proposition}
\newtheorem{proof}{Proof}




 \lstset{
         basicstyle=\footnotesize\ttfamily, % Standardschrift
         %numbers=left,               % Ort der Zeilennummern
         numberstyle=\tiny,          % Stil der Zeilennummern
         %stepnumber=2,               % Abstand zwischen den Zeilennummern
         numbersep=5pt,              % Abstand der Nummern zum Text
         tabsize=2,                  % Groesse von Tabs
         extendedchars=true,         %
         breaklines=true,            % Zeilen werden Umgebrochen
         keywordstyle=\color{red},
    		frame=b,         
 %        keywordstyle=[1]\textbf,    % Stil der Keywords
 %        keywordstyle=[2]\textbf,    %
 %        keywordstyle=[3]\textbf,    %
 %        keywordstyle=[4]\textbf,   \sqrt{\sqrt{}} %
         stringstyle=\color{white}\ttfamily, % Farbe der String
         showspaces=false,           % Leerzeichen anzeigen ?
         showtabs=false,             % Tabs anzeigen ?
         xleftmargin=17pt,
         framexleftmargin=17pt,
         framexrightmargin=5pt,
         framexbottommargin=4pt,
         %backgroundcolor=\color{lightgray},
         showstringspaces=false      % Leerzeichen in Strings anzeigen ?        
 }
 \lstloadlanguages{% Check Dokumentation for further languages ...
         %[Visual]Basic
         %Pascal
         C
         %C++
         %XML
         %HTML
         %Java
 }
  %\DeclareCaptionFont{blue}{\color{blue}} 

  %\captionsetup[lstlisting]{singlelinecheck=false, labelfont={blue}, textfont={blue}}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}



\makeindex

\begin{document}


%%bibliography style to adopt
\bibliographyunit[\chapter]
\defaultbibliographystyle{plain}



\title{Designing Scientific Applications on GPUs }

\author{RaphaÃ«l Couturier}

\maketitle

\frontmatter
\include{frontmatter/Foreword}
\include{frontmatter/preface}

\listoffigures
\listoftables
\tableofcontents

\mainmatter

\include{Chapters/symbollist}

\setcounter{page}{1}
\part{This is a Part}
%\include{Chapters/chapter1/ch1}
%\include{Chapters/chapter2/ch2}

\include{Chapters/chapter14/ch14}

\bibliographystyle{hep}
%%%\bibliography{biblio}

\clearpage
\printindex

\end{document}
